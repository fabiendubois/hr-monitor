<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Monitor Pro</title>
    <link rel="stylesheet" href="style.css">
    <!-- Chart.js from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>HR MONITOR <span class="pro-badge">PRO</span></h1>
                <div class="header-controls">
                    <button id="connectBtn" class="btn-connect">
                        <span class="status-dot" id="hrStatusDot"></span>
                        <span class="icon">‚ù§Ô∏è</span> HR
                    </button>
                    <button id="connectTrainerBtn" class="btn-connect btn-trainer">
                        <span class="status-dot" id="trainerStatusDot"></span>
                        <span class="icon">üö¥</span> TRAINER
                    </button>
                    <button id="demoBtn" class="btn-connect btn-demo">
                        <span class="icon">üéÆ</span> DEMO
                    </button>
                    <button id="settingsBtn" class="btn-icon" title="Param√®tres Strava">‚öôÔ∏è</button>
                </div>
            </div>
        </header>

        <main>

            <div class="dashboard">
                <!-- Activity Controls & Timer -->
                <div class="activity-panel">
                    <div id="timerDisplay" class="timer">00:00:00</div>
                    <div class="controls">
                        <button id="startBtn" class="btn-control btn-start">‚ñ∂ D√âMARRER</button>
                        <button id="pauseBtn" class="btn-control btn-pause hidden">‚è∏ PAUSE</button>
                        <button id="stopBtn" class="btn-control btn-stop hidden">‚èπ STOP & SAVE</button>
                    </div>
                </div>

                <!-- HR Block -->
                <div class="card metric-block">
                    <h2 class="metric-title">FR√âQUENCE CARDIAQUE</h2>
                    <div class="metric-current">
                        <span id="heartRate" class="value-large">--</span>
                        <span class="unit-large">BPM</span>
                    </div>
                    <div class="zone-indicator" id="zoneIndicator">ZONE --</div>
                    <div class="metric-stats">
                        <div class="stat-item">
                            <span class="stat-label">MIN</span>
                            <span id="minHr" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MAX</span>
                            <span id="maxHr" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MOY</span>
                            <span id="avgHr" class="stat-value">--</span>
                        </div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="hrChart"></canvas>
                    </div>
                </div>

                <!-- Power Block -->
                <div class="card metric-block">
                    <h2 class="metric-title">PUISSANCE</h2>
                    <div class="metric-current">
                        <span id="power" class="value-large">--</span>
                        <span class="unit-large">WATTS</span>
                    </div>
                    <div class="metric-stats">
                        <div class="stat-item">
                            <span class="stat-label">MIN</span>
                            <span id="minPower" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MAX</span>
                            <span id="maxPower" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MOY</span>
                            <span id="avgPower" class="stat-value">--</span>
                        </div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="powerChart"></canvas>
                    </div>
                </div>

                <!-- Cadence Block -->
                <div class="card metric-block">
                    <h2 class="metric-title">CADENCE</h2>
                    <div class="metric-current">
                        <span id="cadence" class="value-large">--</span>
                        <span class="unit-large">RPM</span>
                    </div>
                    <div class="metric-stats">
                        <div class="stat-item">
                            <span class="stat-label">MIN</span>
                            <span id="minCadence" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MAX</span>
                            <span id="maxCadence" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MOY</span>
                            <span id="avgCadence" class="stat-value">--</span>
                        </div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="cadenceChart"></canvas>
                    </div>
                </div>

                <!-- Speed Block -->
                <div class="card metric-block">
                    <h2 class="metric-title">VITESSE</h2>
                    <div class="metric-current">
                        <span id="speed" class="value-large">--</span>
                        <span class="unit-large">KM/H</span>
                    </div>
                    <div class="metric-stats">
                        <div class="stat-item">
                            <span class="stat-label">MIN</span>
                            <span id="minSpeed" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MAX</span>
                            <span id="maxSpeed" class="stat-value">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">MOY</span>
                            <span id="avgSpeed" class="stat-value">--</span>
                        </div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="speedChart"></canvas>
                    </div>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <span id="closeSettings" class="close">&times;</span>
                <h2>Param√®tres Strava</h2>
                <p class="info-text">Pour uploader sur Strava, vous devez fournir vos propres cl√©s API (disponibles sur
                    <a href="https://www.strava.com/settings/api" target="_blank">strava.com/settings/api</a>).
                </p>

                <div class="form-group">
                    <label for="clientId">Client ID</label>
                    <input type="text" id="clientId" placeholder="ex: 12345">
                </div>

                <div class="form-group">
                    <label for="clientSecret">Client Secret</label>
                    <input type="password" id="clientSecret" placeholder="ex: a1b2c3d4...">
                </div>

                <div class="form-actions">
                    <button id="saveSettingsBtn" class="btn-primary">Sauvegarder</button>
                    <button id="stravaAuthBtn" class="btn-strava hidden">Connecter Strava</button>
                </div>
                <p id="authStatus" class="status-text"></p>
            </div>
        </div>

        <!-- Save Activity Modal -->
        <div id="saveModal" class="modal hidden">
            <div class="modal-content">
                <h2>Sauvegarder l'activit√©</h2>
                <p class="info-text">Choisissez comment sauvegarder votre session :</p>

                <div class="save-options">
                    <button id="uploadStravaBtn" class="btn-save-option">
                        <span class="save-icon">üö¥</span>
                        <span class="save-label">Upload Strava</span>
                    </button>
                    <button id="downloadTcxBtn" class="btn-save-option">
                        <span class="save-icon">üì•</span>
                        <span class="save-label">T√©l√©charger TCX</span>
                    </button>
                </div>

                <button id="cancelSaveBtn" class="btn-cancel">Annuler</button>
            </div>
        </div>

        <footer>
            <p>‚ö†Ô∏è Compatible uniquement avec <strong>Google Chrome</strong>, Edge et Opera.</p>
        </footer>
    </div>
    <script src="app.js"></script>
</body>

</html>